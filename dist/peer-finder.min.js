angular.module("peerFinder",["ngRoute","ngclipboard"]),angular.module("peerFinder").controller("PeerSearchController",["$scope","$log","$http",function(e,t,r){var n=this;n.data={};var o=[];n.test=function(){t.log("hello world")},n.getPeers=function(e){r.get("http://localhost:5002/1/location/"+e).then(function(e){t.log(e.data.result),n.peers=e.data.result,n.peers.forEach(function(e){e.name=_.keys(e)}),console.log("vm.peers",n.peers)})},n.addToPeerList=function(e){delete e.name,delete e.$$hashKey,o.push(e),t.log("peerList",o)},n.filterIpv4=function(){},n.filterIpv6=function(){},n.getList=function(){o.map(function(e){delete e.selected;var t=_.keys(e),r=t[0];return console.log("peer addresses:",t),r});n.peerList=o,t.log("converted peerList",o),t.log("converted peerList",JSON.stringify(o,null,2))}}]),angular.module("peerFinder").directive("peersearch",function(){return{restrict:"E",templateUrl:"/modules/PeerSearch/peerSearch.html",controller:"PeerSearchController",controllerAs:"vm"}}),angular.module("peerFinder").config(["$locationProvider","$routeProvider",function(e,t){t.when("/",{template:"<peersearch></peersearch>",controller:"PeerSearchController",controllerAs:"vm"})}]),function(e){try{e=angular.module("peer-finder")}catch(t){e=angular.module("peer-finder",[])}e.run(["$templateCache",function(e){e.put("/peer-finder/modules/PeerSearch/peerSearch.html",'<h2>Find some peers:</h2><form><div class="form-group"><label for="continent">Continent:<select id="continent" ng-model="vm.data.continent"><option value="eu">Europe</option><option value="na">North America</option></select></label><button type="button" class="btn btn-primary" ng-click="vm.getPeers(vm.data.continent)">Search</button></div><div><div class="peer panel panel-default" ng-repeat="peer in vm.peers">{{peer[peer.name[0]].peerName}}<pre id="{{peer[peer.name[0]].peerName}}">{{peer}}</pre><button type="button" class="btn btn-default" ng-click="vm.addToPeerList(peer); peer.selected = true" ng-class="{\'btn-success\': peer.selected}">add</button></div></div><button type="button" class="btn btn-default" ng-click="vm.getList()">get list</button><pre><div ng-repeat="peer in vm.peerList">{{peer}},</div></pre></form>')}])}();